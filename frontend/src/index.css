@tailwind base;
@tailwind components;
@tailwind utilities;

/* 폰트 import */
@import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css');
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&display=swap');

/* 기본 스타일 - 게임 UI 테마 */
@layer base {
  body {
    @apply bg-dark-900 text-gray-100;
    font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'system-ui', sans-serif;
    background-image: 
      radial-gradient(ellipse at top left, rgba(0, 118, 230, 0.15) 0%, transparent 50%),
      radial-gradient(ellipse at bottom right, rgba(77, 168, 255, 0.15) 0%, transparent 50%),
      var(--tw-bg-game-pattern);
    background-attachment: fixed;
    min-height: 100vh;
  }

  /* 스크롤바 스타일 */
  ::-webkit-scrollbar {
    @apply w-3 h-3;
  }

  ::-webkit-scrollbar-track {
    @apply bg-dark-700;
    box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-primary-600 rounded-full;
    box-shadow: 0 0 6px rgba(0, 118, 230, 0.5);
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-primary-500;
    box-shadow: 0 0 10px rgba(0, 118, 230, 0.8);
  }
}

/* 게임 UI 컴포넌트 */
@layer components {
  /* 버튼 스타일 */
  .btn {
    @apply relative px-6 py-3 font-semibold uppercase tracking-wider transition-all duration-200;
    @apply before:absolute before:inset-0 before:bg-gradient-to-b before:from-white/10 before:to-transparent;
    clip-path: polygon(12px 0, 100% 0, 100% calc(100% - 12px), calc(100% - 12px) 100%, 0 100%, 0 12px);
  }

  .btn-primary {
    @apply bg-gradient-to-br from-primary-500 to-primary-700 text-white;
    @apply hover:from-primary-400 hover:to-primary-600 hover:shadow-game-hover;
    @apply active:scale-95;
    box-shadow: 0 4px 20px rgba(0, 118, 230, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }

  .btn-secondary {
    @apply bg-gradient-to-br from-dark-600 to-dark-800 text-gray-300;
    @apply hover:from-dark-500 hover:to-dark-700 hover:text-white;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }

  .btn-danger {
    @apply bg-gradient-to-br from-red-600 to-red-800 text-white;
    @apply hover:from-red-500 hover:to-red-700;
    box-shadow: 0 4px 20px rgba(239, 68, 68, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }

  /* 카드 스타일 */
  .game-panel {
    @apply relative bg-gradient-to-br from-dark-700/90 to-dark-800/90 backdrop-blur-sm;
    @apply border border-primary-700/30 shadow-lg;
    clip-path: polygon(0 0, calc(100% - 16px) 0, 100% 16px, 100% 100%, 16px 100%, 0 calc(100% - 16px));
  }

  .game-panel::before {
    content: '';
    @apply absolute top-0 left-8 right-8 h-px bg-gradient-to-r from-transparent via-primary-400 to-transparent;
  }

  .game-panel-header {
    @apply relative px-6 py-4 border-b border-primary-800/30;
    @apply bg-gradient-to-r from-primary-900/20 to-transparent;
  }

  /* 입력 필드 */
  .input-game {
    @apply w-full px-4 py-3 bg-dark-800/80 border-2 border-dark-600;
    @apply text-gray-100 placeholder-gray-500;
    @apply focus:border-primary-500 focus:bg-dark-700/80 focus:outline-none;
    @apply transition-all duration-200;
    clip-path: polygon(6px 0, 100% 0, 100% calc(100% - 6px), calc(100% - 6px) 100%, 0 100%, 0 6px);
  }

  .input-game:focus {
    box-shadow: 0 0 20px rgba(0, 118, 230, 0.3), inset 0 0 20px rgba(0, 118, 230, 0.1);
  }

  /* 레이블 */
  .label-game {
    @apply block text-sm font-bold text-primary-300 mb-2 uppercase tracking-wider;
  }

  /* 아이템 레어도별 스타일 */
  .item-legendary {
    @apply bg-gradient-to-br from-orange-600/20 to-amber-600/20 border-accent-legendary;
    box-shadow: 0 0 30px rgba(255, 128, 0, 0.5);
  }

  .item-epic {
    @apply bg-gradient-to-br from-purple-600/20 to-pink-600/20 border-accent-epic;
    box-shadow: 0 0 30px rgba(163, 53, 238, 0.5);
  }

  .item-rare {
    @apply bg-gradient-to-br from-blue-600/20 to-cyan-600/20 border-accent-rare;
    box-shadow: 0 0 30px rgba(0, 112, 221, 0.5);
  }

  .item-uncommon {
    @apply bg-gradient-to-br from-green-600/20 to-emerald-600/20 border-accent-uncommon;
    box-shadow: 0 0 30px rgba(30, 255, 0, 0.5);
  }

  .item-common {
    @apply bg-gradient-to-br from-gray-600/20 to-gray-700/20 border-gray-500;
  }

  /* 진행 바 */
  .progress-bar {
    @apply relative h-8 bg-dark-800/80 overflow-hidden;
    @apply border border-dark-600;
    clip-path: polygon(0 0, calc(100% - 8px) 0, 100% 100%, 0 100%);
  }

  .progress-fill {
    @apply h-full bg-gradient-to-r from-primary-600 to-primary-400;
    @apply relative overflow-hidden;
    box-shadow: inset 0 2px 4px rgba(255, 255, 255, 0.2);
  }

  .progress-fill::after {
    content: '';
    @apply absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent;
    animation: shimmer 2s infinite;
  }

  @keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }

  /* 탭 스타일 */
  .tab-game {
    @apply relative px-6 py-3 text-gray-400 font-bold uppercase tracking-wider;
    @apply transition-all duration-200 cursor-pointer;
    clip-path: polygon(12px 0, 100% 0, calc(100% - 12px) 100%, 0 100%);
  }

  .tab-game:hover {
    @apply text-gray-200 bg-dark-700/50;
  }

  .tab-game.active {
    @apply bg-gradient-to-br from-primary-600 to-primary-800 text-white;
    box-shadow: 0 4px 20px rgba(0, 118, 230, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }

  /* 장비 슬롯 */
  .equipment-slot {
    @apply relative w-20 h-20 bg-dark-800/80 border-2 border-dark-600;
    @apply flex items-center justify-center cursor-pointer;
    @apply transition-all duration-200;
    clip-path: polygon(8px 0, 100% 0, 100% calc(100% - 8px), calc(100% - 8px) 100%, 0 100%, 0 8px);
  }

  .equipment-slot:hover {
    @apply border-primary-500 bg-dark-700/80;
    box-shadow: 0 0 20px rgba(0, 118, 230, 0.4), inset 0 0 20px rgba(0, 118, 230, 0.1);
  }

  .equipment-slot.filled {
    @apply border-primary-400 bg-primary-900/30;
  }

  /* 툴팁 */
  .tooltip-game {
    @apply absolute z-50 p-4 bg-dark-900/95 backdrop-blur-sm;
    @apply border border-primary-600/50 shadow-2xl;
    @apply text-sm leading-relaxed;
    clip-path: polygon(0 0, calc(100% - 8px) 0, 100% 8px, 100% 100%, 8px 100%, 0 calc(100% - 8px));
  }

  /* 로딩 애니메이션 */
  .loader-game {
    @apply relative w-16 h-16;
  }

  .loader-game::before,
  .loader-game::after {
    content: '';
    @apply absolute inset-0 border-2 border-transparent rounded-full;
    @apply border-t-primary-500 border-r-primary-500;
    animation: spin 1s linear infinite;
  }

  .loader-game::after {
    @apply m-2;
    animation-direction: reverse;
    animation-duration: 0.5s;
  }

  @keyframes spin {
    to { transform: rotate(360deg); }
  }

  /* 알림 배지 */
  .badge-notification {
    @apply absolute -top-2 -right-2 w-6 h-6;
    @apply bg-red-600 text-white text-xs font-bold;
    @apply flex items-center justify-center rounded-full;
    @apply animate-pulse-slow;
    box-shadow: 0 0 20px rgba(239, 68, 68, 0.6);
  }
}

/* 유틸리티 클래스 */
@layer utilities {
  .text-gradient {
    @apply bg-gradient-to-r from-primary-400 to-cyan-400 bg-clip-text text-transparent;
  }

  .glow-text {
    text-shadow: 0 0 20px rgba(0, 118, 230, 0.8);
  }

  .border-gradient {
    border-image: linear-gradient(135deg, #0076e6, #4da8ff) 1;
  }
}